---
import type { FeatureData } from '../../types'
import styles from '../card.module.css'

const { feature } = Astro.props as { feature: FeatureData }
const { id, name, description, category } = feature
---

<div class={`${styles.card} glass`} data-feature-id={id}>
  <div class={styles.cardHeader}>
    <dt>
      <h3>{name}</h3>
    </dt>
    <div class={styles.actions}>
      <a
        target="_blank"
        rel="noopener noreferrer"
        href={`https://developer.mozilla.org/en-US/search?q=${encodeURIComponent(name)}`}
        class={styles.mdnSearchBtn}
        title="Search on MDN"
      >
        <svg
          aria-hidden="true"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="currentColor"
          stroke="currentColor"
          stroke-width="1"
          role="img"
        >
          <title>MDN Web Docs</title>
          <path
            d="m21.538 1.1 -6.745 21.8h-2.77L18.77 1.1ZM24 1.1v21.8h-2.462V1.1Zm-12 0v21.8H9.538V1.1Zm-2.462 0L2.77 22.9H0L6.746 1.1Z"
          ></path>
        </svg>
      </a>
    </div>
    <span class={styles.badge} data-category={category}> {category} </span>
  </div>
  <dd class={styles.content}>
    <p class={styles.description}>{description}</p>
  </dd>
  <div class={styles.featureStatus}>
    <!-- baseline-status web component renders client-side -->
    <baseline-status featureId={id}></baseline-status>
  </div>
</div>
